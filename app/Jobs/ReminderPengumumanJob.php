<?phpnamespace App\Jobs;use App\Models\Pengumuman;use Illuminate\Bus\Queueable;use Illuminate\Contracts\Queue\ShouldQueue;use Illuminate\Foundation\Bus\Dispatchable;use Illuminate\Queue\InteractsWithQueue;use Illuminate\Queue\SerializesModels;use Illuminate\Support\Facades\DB;use Illuminate\Support\Facades\Notification;class ReminderPengumumanJob implements ShouldQueue{    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;    private $pengumumanList;    /**     * Create a new job instance.     */    public function __construct($pengumumanList)    {        $this->pengumumanList = $pengumumanList;    }    /**     * Execute the job.     */    public function handle(): void    {        foreach ($this->pengumumanList as $pengumuman) {            $emails = $pengumuman->usersFromPengumumanTo->pluck('email')->toArray();            array_push($emails, $pengumuman->dibuat_oleh->email);            $sentEmail = DB::table('notifications_log')                ->where('pengumuman_id', $pengumuman->id)                ->where('type', $pengumuman->type)                ->first();            if (!$sentEmail) {                Notification::route('mail', $pengumuman->usersFromPengumumanTo->pluck('email')->toArray())->notify(new \App\Notifications\ReminderPengumuman($pengumuman));                DB::table('notifications_log')->insert([                    'pengumuman_id' => $pengumuman->id,                    'type' => $pengumuman->type,                    'sent_at' => now(),                ]);            }        }    }}