<?phpnamespace App\Jobs;use App\Models\Pengumuman;use Illuminate\Bus\Queueable;use Illuminate\Contracts\Queue\ShouldQueue;use Illuminate\Foundation\Bus\Dispatchable;use Illuminate\Queue\InteractsWithQueue;use Illuminate\Queue\SerializesModels;use Illuminate\Support\Facades\DB;use Illuminate\Support\Facades\Notification;class ReminderPengumumanJob implements ShouldQueue{    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;    private $pengumumanList;    private $type;    /**     * Create a new job instance.     */    public function __construct($pengumumanList, $type)    {        $this->pengumumanList = $pengumumanList;        $this->type = $type;    }    /**     * Execute the job.     */    public function handle(): void    {        $sentEmail = DB::table('notifications_log')            ->where('pengumuman_id', $this->pengumumanList->id)            ->where('type', $this->pengumumanList->type)            ->first();        if (!$sentEmail) {            $emails = $this->pengumumanList->usersFromPengumumanTo->pluck('email')->toArray();            array_push($emails, $this->pengumumanList->dibuat_oleh->email);            Notification::route('mail', $this->pengumumanList->usersFromPengumumanTo->pluck('email')->toArray())->notify(new \App\Notifications\ReminderPengumuman($this->pengumumanList));            DB::table('notifications_log')->insert([                'pengumuman_id' => $this->pengumumanList->id,                'type' => $this->type,                'sent_at' => now(),            ]);        }    }}